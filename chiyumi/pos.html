<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Order Now</title>
    <meta name="description" content="">
    <meta name="keywords" content="">

    <link href="https://i.pinimg.com/736x/f6/77/86/f67786d6094ddcca42884140f342e666.jpg" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <link href="assets/css/main.css" rel="stylesheet">
    <style>
        .menu-container {
            display: flex;
        }

        .menu-section {
            width: 70%;
        }

        .orders {
            width: 30%;
            padding: 60px;
            box-sizing: border-box;
        }

        .order-item {
            border: 1px solid #cda45e; 
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); 
        }

        input[type="number"] {
          padding: 6px; 
          border: 1px solid #ccc;
          border-radius: 4px;
          margin-right: 10px;
          width: 120px;
          font-size: 16px;
          transition: border-color 0.3s ease;
        }

        input[type="number"]:focus {
          outline: none;
          border-color: #cda45e;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }

        button {
            background-color: #cda45e;
            color: white;
            padding: 8px 15px; 
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        button:hover {
            background-color: #b18942;
            transform: translateY(-2px);
        }

        button:active {
            background-color: #956f2b;
            transform: translateY(0);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        
        #receipt {
          border: 1px solid #ccc;
          border-radius: 5px;
          padding: 20px;
          margin-top: 20px;
          clear: both;
          width: 80%; 
          margin-left: auto; 
          margin-right: auto;
          font-size: 1.2em; 
          text-align: center; 
        }

        #receipt h2 {
          color: #cda45e;
          font-size: 1.5em; 
          margin-bottom: 20px;
        }

        #receipt #receipt-content {
          font-size: 1.2em; 
          font-family: monospace;
          line-height: 1.5;
          white-space: pre-wrap;
        }

        #receipt button {
          background-color: #cda45e;
          color: white;
          padding: 6px 15px;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          font-size: 1.2em; 
          transition: background-color 0.3s ease, transform 0.2s ease;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        #receipt button:hover {
          background-color: #b18942;
          transform: translateY(-2px);
        }

        #receipt button:active {
          background-color: #956f2b;
          transform: translateY(0);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        .item-info {
            margin-top: 10px;
        }

        .item-info input {
            width: 50px;
        }
    </style>

</head>

<body class="starter-page-page">

    <header id="header" class="header fixed-top">
        <div class="topbar d-flex align-items-center">
            <div class="container d-flex justify-content-center justify-content-md-between">
                <div class="contact-info d-flex align-items-center">
                    <i class="bi bi-envelope d-flex align-items-center"><a
                            href="mailto:contact@example.com">chiyumi@gmail.com</a></i>
                    <i class="bi bi-phone d-flex align-items-center ms-4"><span>+63 939 107 1733</span></i>
                </div>
            </div>
        </div>
        <div class="branding d-flex align-items-cente">
            <div class="container position-relative d-flex align-items-center justify-content-between">
                <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0">
                    <h1 class="sitename">Chiyumi</h1>
                </a>
                <nav id="navmenu" class="navmenu">
                    <ul>
                        <li><a href="index.html#hero">Home<br></a></li>
                        <li><a href="index.html#about">About</a></li>
                        <li><a href="index.html#menu">Menu</a></li>
                        <li><a href="index.html#specials">Specials</a></li>
                        <li><a href="index.html#events">Events</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                    <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
                </nav>
                
            </div>
        </div>
    </header>

    <main class="main">
        <div class="page-title position-relative" data-aos="fade"
            style="background-image: url(https://images.pexels.com/photos/260922/pexels-photo-260922.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1);">
            <div class="container position-relative">
                <h1>Order Now!<br></h1>
                <p>Craving something great? Don’t wait—Order Now and get it delivered fast and fresh!</p>
                <nav class="breadcrumbs">
                    <ol>
                        <li><a href="index.html">Home</a></li>
                        <li class="current">Order</li>
                    </ol>
                </nav>
            </div>
        </div>
        <div class="menu-container">
            <section id="menu" class="menu section menu-section">
                <div class="container section-title" data-aos="fade-up">
                    <h2>Menu</h2>
                    <p>Check Our Tasty Menu</p>
                </div>
                <div class="container isotope-layout" data-default-filter="*" data-layout="masonry"
                    data-sort="original-order">
                    <div class="row" data-aos="fade-up" data-aos-delay="100">
                        <div class="col-lg-12 d-flex justify-content-center">
                            <ul class="menu-filters isotope-filters">
                                <li data-filter="*" class="filter-active">All</li>
                                <li data-filter=".filter-starters">Starters</li>
                                <li data-filter=".filter-salads">Salads</li>
                                <li data-filter=".filter-specialty">Specialty</li>
                            </ul>
                        </div>
                    </div>
                    <div class="row isotope-container" data-aos="fade-up" data-aos-delay="200">
                        <div class="col-lg-6 menu-item isotope-item filter-starters" data-name="Miso Truffle Soup" data-price="220">
                            <img src="assets/img/menu/lobster-bisque.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Miso Truffle Soup</a><span>₱220</span>
                            </div>
                            <div class="menu-ingredients">
                                White miso, truffle oil, enoki mushrooms, spring onion
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-specialty" data-name="Matcha Lava Cake" data-price="280">
                            <img src="assets/img/menu/bread-barrel.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Matcha Lava Cake</a><span>₱280</span>
                            </div>
                            <div class="menu-ingredients">
                                Matcha, dark chocolate, vanilla ice cream
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-starters" data-name="Tuna Tataki on Lotus Crisp" data-price="320">
                            <img src="assets/img/menu/cake.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Tuna Tataki on Lotus Crisp</a><span>₱320</span>
                            </div>
                            <div class="menu-ingredients">
                                Seared tuna, lotus root chips, yuzu aioli, microgreens
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-salads" data-name="Salmon Teriyaki à la ChiYumi" data-price="580">
                            <img src="assets/img/menu/caesar.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Salmon Teriyaki à la ChiYumi</a><span>₱580</span>
                            </div>
                            <div class="menu-ingredients">
                                Salmon fillet, house teriyaki, bok choy, jasmine rice
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-specialty" data-name="Mango Panna Cotta" data-price="240">
                            <img src="assets/img/menu/tuscan-grilled.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Mango Panna Cotta</a><span>₱240</span>
                            </div>
                            <div class="menu-ingredients">
                                Cream, mango purée, lime zest
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-starters" data-name="Ginger Soy Chicken Skewers" data-price="280">
                            <img src="assets/img/menu/mozzarella.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Ginger Soy Chicken Skewers</a><span>₱280</span>
                            </div>
                            <div class="menu-ingredients">
                                Chicken thigh, ginger-soy glaze, sesame seeds, scallions
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-salads" data-name="Black Garlic Wagyu Bowl" data-price="720">
                            <img src="assets/img/menu/greek-salad.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Black Garlic Wagyu Bowl</a><span>₱720</span>
                            </div>
                            <div class="menu-ingredients">
                                Wagyu beef, black garlic sauce, miso mash, asparagus
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-salads" data-name="Yuzu Cream Pasta" data-price="460">
                            <img src="assets/img/menu/spinach-salad.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Yuzu Cream Pasta</a><span>₱460</span>
                            </div>
                            <div class="menu-ingredients">
                                Linguine, yuzu cream, prawns, tobiko pearls
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                        <div class="col-lg-6 menu-item isotope-item filter-specialty" data-name="Lychee Rose Mille Crêpe" data-price="320">
                            <img src="assets/img/menu/lobster-roll.jpg" class="menu-img" alt="">
                            <div class="menu-content">
                                <a>Lychee Rose Mille Crêpe</a><span>₱320</span>
                            </div>
                            <div class="menu-ingredients">
                                Crêpes, rose cream, lychee, edible petals
                            </div>
                            <div class="item-info">
                                Qty: <input type="number" min="1" value="1">
                                <button onclick="addToOrder(this)">Add to Order</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <div class="orders">
              <div class="container section-title" data-aos="fade-up">
                <h2>Orders</h2>
                <p>Ordered Items</p>
              </div>
                <div class="order-list" id="orderList"></div>

                <div class="totals">
                    <strong>Total: ₱<span id="total">0</span></strong>
                    <input type="number" id="payment" placeholder="Enter payment amount">
                    <button onclick="processPayment()">Pay</button>
                </div>
            </div>
        </div>

        <div id="receipt">
            <h2>Receipt</h2>
            <div id="receipt-content"></div>
            <button onclick="orderAgain()">Order Again</button>
        </div>
    </main>

    <footer id="footer" class="footer">

      <div class="container footer-top">
        <div class="row gy-4">
          <div class="col-lg-4 col-md-6 footer-about">
            <a href="index.html" class="logo d-flex align-items-center">
              <span class="sitename">Chiyumi</span>
            </a>
            <div class="footer-contact pt-3">
              <p><strong>Address:</strong> <span>Imus, Cavite</span></p>
              <p class="mt-3"><strong>Phone:</strong> <span>+63 939 107 1733</span></p>
              <p><strong>Email:</strong> <span>chiyumi@gmail.com</span></p>
            </div>
            <div class="social-links d-flex mt-4">
              <a href="#"><i class="bi bi-twitter-x"></i></a>
              <a href="#"><i class="bi bi-instagram"></i></a>
              <a href="#"><i class="bi bi-pinterest"></i></a>
            </div>
          </div>
    
          <div class="col-lg-2 col-md-3 footer-links">
            <h4>Explore</h4>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Gallery</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="#">Shop</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </div>
    
          <div class="col-lg-6 col-md-12 footer-newsletter">
            <h4>Stay in the Loop</h4>
            <p>Join our mailing list for sweet updates and exclusive drops</p>
            <form action="#" method="post" class="php-email-form">
              <div class="newsletter-form">
                <input type="email" name="email" placeholder="Your email"><input type="submit" value="Subscribe">
              </div>
            </form>
          </div>
    
        </div>
      </div>
    
      <div class="container copyright text-center mt-4">
        <p>© <span>Copyright</span> <strong class="px-1 sitename">Restaurantly</strong> <span>All Rights Reserved</span></p>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you've purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
          Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a> Distributed by <a href="https://themewagon.com" target="_blank">ThemeWagon</a>
        </div>
      </div>
    
    </footer>

    <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>
    <div id="preloader"></div>

    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/js/main.js"></script>

    <script>
      let total = 0;

      function addToOrder(button) {
        const item = button.closest(".menu-item");
        const name = item.getAttribute("data-name");
        const price = parseFloat(item.getAttribute("data-price"));
        const quantityInput = item.querySelector("input");
        const quantity = parseInt(quantityInput.value);

        if (!quantity || quantity <= 0) return;

        const orderList = document.getElementById("orderList");
        const existingItem = document.getElementById("order-" + name);

        if (existingItem) {
            const qtyInput = existingItem.querySelector(".order-qty");
            qtyInput.value = parseInt(qtyInput.value) + quantity;
            updateOrderItemSubtotal(existingItem); // Update subtotal
            updateOrderTotal();
        } else {
            const orderItem = document.createElement("div");
            orderItem.classList.add("order-item");
            orderItem.id = "order-" + name;
            orderItem.setAttribute("data-price", price);

            orderItem.innerHTML = `<div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong>${name}</strong><br>
                    Qty: <input type="number" class="order-qty" value="${quantity}" min="1" style="width: 50px">
                    <br>Price: ₱${price} each
                    <br>Subtotal: ₱<span class="order-subtotal">${(price * quantity).toFixed(2)}</span>
                </div>
                <button onclick="removeItem('${name}')" style="background-color: red; color: white; border: none; padding: 5px 10px;">X</button>
            </div>`;
            orderItem.querySelector(".order-qty").addEventListener("input", function() {
                updateOrderItemSubtotal(orderItem);
                updateOrderTotal();
            });
            orderList.appendChild(orderItem);
        }
        updateOrderTotal();
      }

      function updateOrderItemSubtotal(item) {
        const price = parseFloat(item.getAttribute("data-price"));
        const qty = parseInt(item.querySelector(".order-qty").value);
        const subtotalElement = item.querySelector(".order-subtotal");
        subtotalElement.textContent = (price * qty).toFixed(2);
      }

      function removeItem(name) {
        const item = document.getElementById("order-" + name);
        if (item) {
            item.remove();
            updateOrderTotal();
        }
      }

      function updateOrderTotal() {
        total = 0;
        const items = document.querySelectorAll(".order-item");

        items.forEach(item => {
            const subtotal = parseFloat(item.querySelector(".order-subtotal").textContent);
            total += subtotal;
        });

        document.getElementById("total").textContent = total.toFixed(2);
      }


      function processPayment() {
        const payment = parseFloat(document.getElementById('payment').value);

        if (isNaN(payment) || payment < 0) {
            alert("Please enter a valid payment amount.");
            return;
        }

        if (payment < total) {
            alert("Payment Unsuccessful: Insufficient Funds");
        } else {
            const change = payment - total;

            // Show popup first
            alert("Payment successful!");

            // Then show receipt after user clicks OK
            showReceipt(payment, change);
            
            // Ensure receipt is displayed correctly
            document.getElementById('receipt').style.display = 'block';  // Make sure receipt is visible
        }
      }


      function resetPOS() {
        document.getElementById('orderList').innerHTML = "";
        document.getElementById('total').textContent = "0";
        document.getElementById('payment').value = "";
        total = 0;
      }

      function showReceipt(payment, change) {
        // Hide menu and orders
        document.querySelector('.menu').style.display = 'none';
        document.querySelector('.orders').style.display = 'none';
        document.getElementById('receipt').style.display = 'block';

        const receiptContent = document.getElementById('receipt-content');
        receiptContent.innerHTML = "";

        const items = document.querySelectorAll(".order-item");

        let receiptText = "<pre>";
        receiptText += "  ===============================\n";
        items.forEach(item => {
            const name = item.id.replace("order-", "");
            const qty = item.querySelector(".order-qty").value;
            const price = item.getAttribute("data-price");
            const totalPrice = (parseFloat(price) * parseInt(qty)).toFixed(2);

            receiptText += `  ${name.padEnd(10)} x${qty}  ₱${totalPrice}\n`;
        });

        receiptText += "  -------------------------------\n";
        receiptText += `  Total:       ₱${total.toFixed(2)}\n`;
        receiptText += `  Payment:     ₱${payment.toFixed(2)}\n`;
        receiptText += `  Change:      ₱${change.toFixed(2)}\n`;
        receiptText += "  ===============================\n";
        receiptText += "</pre>";

        receiptContent.innerHTML = receiptText;
      }

      function orderAgain() {
        // Show the menu and orders again
        document.querySelector('.menu').style.display = 'block';
        document.querySelector('.orders').style.display = 'block';

        // Hide the receipt again
        document.getElementById('receipt').style.display = 'none'; // Explicitly hide the receipt

        // Reset everything
        resetPOS();
      }


      window.onload = function() {
      // Ensure receipt is hidden on page load
      document.getElementById('receipt').style.display = 'none';
      };

    </script>

</body>

</html>